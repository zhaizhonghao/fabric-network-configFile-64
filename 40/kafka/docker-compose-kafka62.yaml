# Copyright IBM Corp. All Rights Reserved.
#
# SPDX-License-Identifier: Apache-2.0
#

version: '2'

services:
  kafka62:
    container_name: kafka62
    hostname: kafka62
    image: hyperledger/fabric-kafka
    restart: always
    environment:
      - KAFKA_MESSAGE_MAX_BYTES=103809024 # 99 * 1024 * 1024 B
      - KAFKA_REPLICA_FETCH_MAX_BYTES=103809024 # 99 * 1024 * 1024 B
      - KAFKA_UNCLEAN_LEADER_ELECTION_ENABLE=false
    environment:
      - KAFKA_BROKER_ID=63
      - KAFKA_MIN_INSYNC_REPLICAS=2
      - KAFKA_DEFAULT_REPLICATION_FACTOR=3
      - KAFKA_ZOOKEEPER_CONNECT=zookeeper0:2181, zookeeper1:3181, zookeeper2:4181, zookeeper3:5181, zookeeper4:6181, zookeeper5:7181, zookeeper6:8181, zookeeper7:9181, zookeeper8:10181, zookeeper9:11181, zookeeper10:12181, zookeeper11:13181, zookeeper12:14181, zookeeper13:15181, zookeeper14:16181, zookeeper15:17181, zookeeper16:2181, zookeeper17:3181, zookeeper18:4181, zookeeper19:5181, zookeeper20:6181, zookeeper21:7181, zookeeper22:8181, zookeeper23:9181, zookeeper24:10181, zookeeper25:11181, zookeeper26:12181, zookeeper27:13181, zookeeper28:14181, zookeeper29:15181, zookeeper30:16181, zookeeper31:17181, zookeeper32:2181, zookeeper33:3181, zookeeper34:4181, zookeeper35:5181, zookeeper36:6181, zookeeper37:7181, zookeeper38:8181, zookeeper39:9181, zookeeper40:10181, zookeeper41:11181, zookeeper42:12181, zookeeper43:13181, zookeeper44:14181, zookeeper45:15181, zookeeper46:16181, zookeeper47:17181, zookeeper48:2181, zookeeper49:3181, zookeeper50:4181, zookeeper51:5181, zookeeper52:6181, zookeeper53:7181, zookeeper54:8181, zookeeper55:9181, zookeeper56:10181, zookeeper57:11181, zookeeper58:12181, zookeeper59:13181, zookeeper60:14181, zookeeper61:15181, zookeeper62:16181, zookeeper63:17181
    ports:
      - 23092:9092
    extra_hosts:
     - "zookeeper0:172.32.0.37"
     - "zookeeper1:172.32.0.37"
     - "zookeeper2:172.32.0.37"
     - "zookeeper3:172.32.0.37"
     - "zookeeper4:172.32.0.37"
     - "zookeeper5:172.32.0.37"
     - "zookeeper6:172.32.0.37"
     - "zookeeper7:172.32.0.37"
     - "zookeeper8:172.32.0.37"
     - "zookeeper9:172.32.0.37"
     - "zookeeper10:172.32.0.37"
     - "zookeeper11:172.32.0.37"
     - "zookeeper12:172.32.0.37"
     - "zookeeper13:172.32.0.37"
     - "zookeeper14:172.32.0.37"
     - "zookeeper15:172.32.0.37"
     - "zookeeper16:172.32.0.37"
     - "zookeeper17:172.32.0.38"
     - "zookeeper18:172.32.0.38"
     - "zookeeper19:172.32.0.38"
     - "zookeeper20:172.32.0.38"
     - "zookeeper21:172.32.0.38"
     - "zookeeper22:172.32.0.38"
     - "zookeeper23:172.32.0.38"
     - "zookeeper24:172.32.0.38"
     - "zookeeper25:172.32.0.38"
     - "zookeeper26:172.32.0.38"
     - "zookeeper27:172.32.0.38"
     - "zookeeper28:172.32.0.38"
     - "zookeeper29:172.32.0.38"
     - "zookeeper30:172.32.0.38"
     - "zookeeper31:172.32.0.38"
     - "zookeeper32:172.32.0.39"
     - "zookeeper33:172.32.0.39"
     - "zookeeper34:172.32.0.39"
     - "zookeeper35:172.32.0.39"
     - "zookeeper36:172.32.0.39"
     - "zookeeper37:172.32.0.39"
     - "zookeeper38:172.32.0.39"
     - "zookeeper39:172.32.0.39"
     - "zookeeper40:172.32.0.39"
     - "zookeeper41:172.32.0.39"
     - "zookeeper42:172.32.0.39"
     - "zookeeper43:172.32.0.39"
     - "zookeeper44:172.32.0.39"
     - "zookeeper45:172.32.0.39"
     - "zookeeper46:172.32.0.39"
     - "zookeeper47:172.32.0.39"
     - "zookeeper48:172.32.0.40"
     - "zookeeper49:172.32.0.40"
     - "zookeeper50:172.32.0.40"
     - "zookeeper51:172.32.0.40"
     - "zookeeper52:172.32.0.40"
     - "zookeeper53:172.32.0.40"
     - "zookeeper54:172.32.0.40"
     - "zookeeper55:172.32.0.40"
     - "zookeeper56:172.32.0.40"
     - "zookeeper57:172.32.0.40"
     - "zookeeper58:172.32.0.40"
     - "zookeeper59:172.32.0.40"
     - "zookeeper60:172.32.0.40"
     - "zookeeper61:172.32.0.40"
     - "zookeeper62:172.32.0.40"
     - "zookeeper63:172.32.0.40"
     - "kafka62:172.32.0.37"
     - "kafka1:172.32.0.37"
     - "kafka2:172.32.0.37"
     - "kafka3:172.32.0.37"
     - "kafka4:172.32.0.37"
     - "kafka5:172.32.0.37"
     - "kafka6:172.32.0.37"
     - "kafka7:172.32.0.37"
     - "kafka8:172.32.0.37"
     - "kafka9:172.32.0.37"
     - "kafka10:172.32.0.37"
     - "kafka11:172.32.0.37"
     - "kafka12:172.32.0.37"
     - "kafka13:172.32.0.37"
     - "kafka14:172.32.0.37"
     - "kafka15:172.32.0.37"
     - "kafka16:172.32.0.37"
     - "kafka17:172.32.0.38"
     - "kafka18:172.32.0.38"
     - "kafka19:172.32.0.38"
     - "kafka20:172.32.0.38"
     - "kafka21:172.32.0.38"
     - "kafka22:172.32.0.38"
     - "kafka23:172.32.0.38"
     - "kafka24:172.32.0.38"
     - "kafka25:172.32.0.38"
     - "kafka26:172.32.0.38"
     - "kafka27:172.32.0.38"
     - "kafka28:172.32.0.38"
     - "kafka29:172.32.0.38"
     - "kafka30:172.32.0.38"
     - "kafka31:172.32.0.38"
     - "kafka32:172.32.0.39"
     - "kafka33:172.32.0.39"
     - "kafka34:172.32.0.39"
     - "kafka35:172.32.0.39"
     - "kafka36:172.32.0.39"
     - "kafka37:172.32.0.39"
     - "kafka38:172.32.0.39"
     - "kafka39:172.32.0.39"
     - "kafka40:172.32.0.39"
     - "kafka41:172.32.0.39"
     - "kafka42:172.32.0.39"
     - "kafka43:172.32.0.39"
     - "kafka44:172.32.0.39"
     - "kafka45:172.32.0.39"
     - "kafka46:172.32.0.39"
     - "kafka47:172.32.0.39"
     - "kafka48:172.32.0.40"
     - "kafka49:172.32.0.40"
     - "kafka50:172.32.0.40"
     - "kafka51:172.32.0.40"
     - "kafka52:172.32.0.40"
     - "kafka53:172.32.0.40"
     - "kafka54:172.32.0.40"
     - "kafka55:172.32.0.40"
     - "kafka56:172.32.0.40"
     - "kafka57:172.32.0.40"
     - "kafka58:172.32.0.40"
     - "kafka59:172.32.0.40"
     - "kafka60:172.32.0.40"
     - "kafka61:172.32.0.40"
     - "kafka62:172.32.0.40"
     - "kafka63:172.32.0.40"